
../compcert-repos/jclehner-nmrpflash-5fc77cc/main.o:     file format elf32-littlearm


Disassembly of section .text:

00000000 <usage>:
   0:	push	{fp, lr}
   4:	mov	fp, sp
   8:	sub	sp, sp, #8
   c:	str	r0, [sp, #4]
  10:	ldr	r0, [sp, #4]
  14:	movw	r1, #0
  18:	movt	r1, #0
  1c:	movw	r2, #0
  20:	movt	r2, #0
  24:	bl	0 <fprintf>
  28:	mov	sp, fp
  2c:	pop	{fp, pc}

00000030 <require_admin>:
  30:	push	{fp, lr}
  34:	mov	fp, sp
  38:	sub	sp, sp, #8
  3c:	bl	0 <getuid>
  40:	cmp	r0, #0
  44:	beq	70 <require_admin+0x40>
  48:	movw	r0, #0
  4c:	movt	r0, #0
  50:	ldr	r0, [r0]
  54:	movw	r1, #0
  58:	movt	r1, #0
  5c:	bl	0 <fprintf>
  60:	movw	r1, #1
  64:	str	r0, [sp, #4]
  68:	mov	r0, r1
  6c:	bl	0 <exit>
  70:	mov	sp, fp
  74:	pop	{fp, pc}

00000078 <main>:
  78:	push	{fp, lr}
  7c:	mov	fp, sp
  80:	sub	sp, sp, #96	; 0x60
  84:	ldr	r2, [pc, #1144]	; 504 <main+0x48c>
  88:	movw	r3, #0
  8c:	str	r3, [fp, #-4]
  90:	str	r0, [fp, #-8]
  94:	str	r1, [fp, #-12]
  98:	str	r3, [fp, #-28]	; 0xffffffe4
  9c:	add	r0, sp, #16
  a0:	movw	r1, #0
  a4:	and	r1, r1, #255	; 0xff
  a8:	movw	ip, #52	; 0x34
  ac:	str	r2, [sp, #12]
  b0:	mov	r2, ip
  b4:	str	r3, [sp, #8]
  b8:	bl	0 <memset>
  bc:	movw	r0, #200	; 0xc8
  c0:	str	r0, [sp, #16]
  c4:	ldr	r0, [sp, #12]
  c8:	str	r0, [sp, #20]
  cc:	movw	r1, #0
  d0:	movt	r1, #0
  d4:	str	r1, [sp, #44]	; 0x2c
  d8:	movw	r1, #0
  dc:	movt	r1, #0
  e0:	str	r1, [sp, #52]	; 0x34
  e4:	movw	r1, #69	; 0x45
  e8:	strh	r1, [sp, #60]	; 0x3c
  ec:	movw	r1, #0
  f0:	movt	r1, #0
  f4:	ldr	r2, [sp, #8]
  f8:	str	r2, [r1]
  fc:	ldr	r0, [fp, #-8]
 100:	ldr	r1, [fp, #-12]
 104:	movw	r2, #0
 108:	movt	r2, #0
 10c:	bl	0 <getopt>
 110:	str	r0, [fp, #-16]
 114:	cmn	r0, #1
 118:	beq	418 <main+0x3a0>
 11c:	mvn	r0, #-2147483648	; 0x80000000
 120:	str	r0, [fp, #-24]	; 0xffffffe8
 124:	ldr	r0, [fp, #-16]
 128:	sub	r0, r0, #65	; 0x41
 12c:	cmp	r0, #53	; 0x35
 130:	str	r0, [sp, #4]
 134:	bhi	3f8 <main+0x380>
 138:	add	r0, pc, #8
 13c:	ldr	r1, [sp, #4]
 140:	ldr	r0, [r0, r1, lsl #2]
 144:	mov	pc, r0
 148:	.word	0x00000234
 14c:	.word	0x000003f8
 150:	.word	0x000003f8
 154:	.word	0x000003f8
 158:	.word	0x000003f8
 15c:	.word	0x00000270
 160:	.word	0x000003f8
 164:	.word	0x000003f8
 168:	.word	0x000003f8
 16c:	.word	0x000003f8
 170:	.word	0x000003f8
 174:	.word	0x000003d0
 178:	.word	0x000002ac
 17c:	.word	0x000003f8
 180:	.word	0x000003f8
 184:	.word	0x000003f8
 188:	.word	0x000003f8
 18c:	.word	0x000002c0
 190:	.word	0x000003f8
 194:	.word	0x000002d4
 198:	.word	0x000003f8
 19c:	.word	0x00000398
 1a0:	.word	0x000003f8
 1a4:	.word	0x000003f8
 1a8:	.word	0x000003f8
 1ac:	.word	0x000003f8
 1b0:	.word	0x000003f8
 1b4:	.word	0x000003f8
 1b8:	.word	0x000003f8
 1bc:	.word	0x000003f8
 1c0:	.word	0x000003f8
 1c4:	.word	0x000003f8
 1c8:	.word	0x00000220
 1cc:	.word	0x000003f8
 1d0:	.word	0x00000248
 1d4:	.word	0x000003f8
 1d8:	.word	0x000003f8
 1dc:	.word	0x0000025c
 1e0:	.word	0x000003f8
 1e4:	.word	0x000003dc
 1e8:	.word	0x00000284
 1ec:	.word	0x000003f8
 1f0:	.word	0x000003f8
 1f4:	.word	0x000003f8
 1f8:	.word	0x00000298
 1fc:	.word	0x000003f8
 200:	.word	0x000003f8
 204:	.word	0x000002d4
 208:	.word	0x000003f8
 20c:	.word	0x000003f8
 210:	.word	0x000003f8
 214:	.word	0x000002d4
 218:	.word	0x000003f8
 21c:	.word	0x000003b8
 220:	movw	r0, #0
 224:	movt	r0, #0
 228:	ldr	r0, [r0]
 22c:	str	r0, [sp, #40]	; 0x28
 230:	b	414 <main+0x39c>
 234:	movw	r0, #0
 238:	movt	r0, #0
 23c:	ldr	r0, [r0]
 240:	str	r0, [sp, #36]	; 0x24
 244:	b	414 <main+0x39c>
 248:	movw	r0, #0
 24c:	movt	r0, #0
 250:	ldr	r0, [r0]
 254:	str	r0, [sp, #24]
 258:	b	414 <main+0x39c>
 25c:	movw	r0, #0
 260:	movt	r0, #0
 264:	ldr	r0, [r0]
 268:	str	r0, [sp, #28]
 26c:	b	414 <main+0x39c>
 270:	movw	r0, #0
 274:	movt	r0, #0
 278:	ldr	r0, [r0]
 27c:	str	r0, [sp, #32]
 280:	b	414 <main+0x39c>
 284:	movw	r0, #0
 288:	movt	r0, #0
 28c:	ldr	r0, [r0]
 290:	str	r0, [sp, #48]	; 0x30
 294:	b	414 <main+0x39c>
 298:	movw	r0, #0
 29c:	movt	r0, #0
 2a0:	ldr	r0, [r0]
 2a4:	str	r0, [sp, #52]	; 0x34
 2a8:	b	414 <main+0x39c>
 2ac:	movw	r0, #0
 2b0:	movt	r0, #0
 2b4:	ldr	r0, [r0]
 2b8:	str	r0, [sp, #44]	; 0x2c
 2bc:	b	414 <main+0x39c>
 2c0:	movw	r0, #0
 2c4:	movt	r0, #0
 2c8:	ldr	r0, [r0]
 2cc:	str	r0, [sp, #64]	; 0x40
 2d0:	b	414 <main+0x39c>
 2d4:	ldr	r0, [fp, #-16]
 2d8:	cmp	r0, #112	; 0x70
 2dc:	bne	2e8 <main+0x270>
 2e0:	movw	r0, #65535	; 0xffff
 2e4:	str	r0, [fp, #-24]	; 0xffffffe8
 2e8:	movw	r0, #0
 2ec:	movt	r0, #0
 2f0:	ldr	r0, [r0]
 2f4:	bl	0 <atoi>
 2f8:	str	r0, [fp, #-20]	; 0xffffffec
 2fc:	ldr	r0, [fp, #-20]	; 0xffffffec
 300:	cmp	r0, #0
 304:	ble	318 <main+0x2a0>
 308:	ldr	r0, [fp, #-20]	; 0xffffffec
 30c:	ldr	r1, [fp, #-24]	; 0xffffffe8
 310:	cmp	r0, r1
 314:	ble	340 <main+0x2c8>
 318:	movw	r0, #0
 31c:	movt	r0, #0
 320:	ldr	r0, [r0]
 324:	ldr	r2, [fp, #-16]
 328:	movw	r1, #0
 32c:	movt	r1, #0
 330:	bl	0 <fprintf>
 334:	movw	r1, #1
 338:	str	r1, [fp, #-4]
 33c:	b	4f8 <main+0x480>
 340:	ldr	r0, [fp, #-16]
 344:	cmp	r0, #112	; 0x70
 348:	bne	358 <main+0x2e0>
 34c:	ldr	r0, [fp, #-20]	; 0xffffffec
 350:	strh	r0, [sp, #60]	; 0x3c
 354:	b	394 <main+0x31c>
 358:	ldr	r0, [fp, #-16]
 35c:	cmp	r0, #116	; 0x74
 360:	bne	370 <main+0x2f8>
 364:	ldr	r0, [fp, #-20]	; 0xffffffec
 368:	str	r0, [sp, #16]
 36c:	b	390 <main+0x318>
 370:	ldr	r0, [fp, #-16]
 374:	cmp	r0, #84	; 0x54
 378:	bne	38c <main+0x314>
 37c:	ldr	r0, [fp, #-20]	; 0xffffffec
 380:	movw	r1, #1000	; 0x3e8
 384:	mul	r0, r0, r1
 388:	str	r0, [sp, #20]
 38c:	b	390 <main+0x318>
 390:	b	394 <main+0x31c>
 394:	b	414 <main+0x39c>
 398:	movw	r0, #0
 39c:	movt	r0, #0
 3a0:	movw	r1, #0
 3a4:	movt	r1, #0
 3a8:	bl	0 <printf>
 3ac:	movw	r1, #0
 3b0:	str	r1, [fp, #-20]	; 0xffffffec
 3b4:	b	4f0 <main+0x478>
 3b8:	movw	r0, #0
 3bc:	movt	r0, #0
 3c0:	ldr	r1, [r0]
 3c4:	add	r1, r1, #1
 3c8:	str	r1, [r0]
 3cc:	b	414 <main+0x39c>
 3d0:	movw	r0, #1
 3d4:	str	r0, [fp, #-28]	; 0xffffffe4
 3d8:	b	414 <main+0x39c>
 3dc:	movw	r0, #0
 3e0:	movt	r0, #0
 3e4:	ldr	r0, [r0]
 3e8:	bl	0 <usage>
 3ec:	movw	r0, #0
 3f0:	str	r0, [fp, #-20]	; 0xffffffec
 3f4:	b	4f0 <main+0x478>
 3f8:	movw	r0, #0
 3fc:	movt	r0, #0
 400:	ldr	r0, [r0]
 404:	bl	0 <usage>
 408:	movw	r0, #1
 40c:	str	r0, [fp, #-20]	; 0xffffffec
 410:	b	4f0 <main+0x478>
 414:	b	fc <main+0x84>
 418:	ldr	r0, [sp, #36]	; 0x24
 41c:	movw	r1, #0
 420:	cmp	r0, r1
 424:	beq	45c <main+0x3e4>
 428:	ldr	r0, [sp, #40]	; 0x28
 42c:	movw	r1, #0
 430:	cmp	r0, r1
 434:	bne	45c <main+0x3e4>
 438:	movw	r0, #0
 43c:	movt	r0, #0
 440:	ldr	r0, [r0]
 444:	movw	r1, #0
 448:	movt	r1, #0
 44c:	bl	0 <fprintf>
 450:	movw	r1, #1
 454:	str	r1, [fp, #-4]
 458:	b	4f8 <main+0x480>
 45c:	ldr	r0, [fp, #-28]	; 0xffffffe4
 460:	cmp	r0, #0
 464:	bne	4b4 <main+0x43c>
 468:	ldr	r0, [sp, #28]
 46c:	movw	r1, #0
 470:	cmp	r0, r1
 474:	bne	488 <main+0x410>
 478:	ldr	r0, [sp, #24]
 47c:	movw	r1, #0
 480:	cmp	r0, r1
 484:	beq	498 <main+0x420>
 488:	ldr	r0, [sp, #48]	; 0x30
 48c:	movw	r1, #0
 490:	cmp	r0, r1
 494:	bne	4b4 <main+0x43c>
 498:	movw	r0, #0
 49c:	movt	r0, #0
 4a0:	ldr	r0, [r0]
 4a4:	bl	0 <usage>
 4a8:	movw	r0, #1
 4ac:	str	r0, [fp, #-4]
 4b0:	b	4f8 <main+0x480>
 4b4:	ldr	r0, [fp, #-28]	; 0xffffffe4
 4b8:	cmp	r0, #0
 4bc:	bne	4c4 <main+0x44c>
 4c0:	bl	30 <require_admin>
 4c4:	ldr	r0, [fp, #-28]	; 0xffffffe4
 4c8:	cmp	r0, #0
 4cc:	bne	4e0 <main+0x468>
 4d0:	add	r0, sp, #16
 4d4:	bl	0 <nmrp_do>
 4d8:	str	r0, [sp]
 4dc:	b	4e8 <main+0x470>
 4e0:	bl	0 <ethsock_list_all>
 4e4:	str	r0, [sp]
 4e8:	ldr	r0, [sp]
 4ec:	str	r0, [fp, #-20]	; 0xffffffec
 4f0:	ldr	r0, [fp, #-20]	; 0xffffffec
 4f4:	str	r0, [fp, #-4]
 4f8:	ldr	r0, [fp, #-4]
 4fc:	mov	sp, fp
 500:	pop	{fp, pc}
 504:	.word	0x000493e0
