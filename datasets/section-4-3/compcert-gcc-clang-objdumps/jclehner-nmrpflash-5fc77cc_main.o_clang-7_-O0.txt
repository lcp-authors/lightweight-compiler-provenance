
../compcert-repos/jclehner-nmrpflash-5fc77cc/main.o:     file format elf32-littlearm


Disassembly of section .text:

00000000 <usage>:
   0:	push	{fp, lr}
   4:	mov	fp, sp
   8:	sub	sp, sp, #8
   c:	str	r0, [sp, #4]
  10:	ldr	r0, [sp, #4]
  14:	movw	r1, #0
  18:	movt	r1, #0
  1c:	movw	r2, #0
  20:	movt	r2, #0
  24:	bl	0 <fprintf>
  28:	str	r0, [sp]
  2c:	mov	sp, fp
  30:	pop	{fp, pc}

00000034 <require_admin>:
  34:	push	{fp, lr}
  38:	mov	fp, sp
  3c:	sub	sp, sp, #8
  40:	bl	0 <getuid>
  44:	cmp	r0, #0
  48:	beq	74 <require_admin+0x40>
  4c:	movw	r0, #0
  50:	movt	r0, #0
  54:	ldr	r0, [r0]
  58:	movw	r1, #0
  5c:	movt	r1, #0
  60:	bl	0 <fprintf>
  64:	movw	r1, #1
  68:	str	r0, [sp, #4]
  6c:	mov	r0, r1
  70:	bl	0 <exit>
  74:	mov	sp, fp
  78:	pop	{fp, pc}

0000007c <main>:
  7c:	push	{fp, lr}
  80:	mov	fp, sp
  84:	sub	sp, sp, #112	; 0x70
  88:	ldr	r2, [pc, #1156]	; 514 <main+0x498>
  8c:	movw	r3, #0
  90:	str	r3, [fp, #-4]
  94:	str	r0, [fp, #-8]
  98:	str	r1, [fp, #-12]
  9c:	str	r3, [fp, #-28]	; 0xffffffe4
  a0:	add	r0, sp, #32
  a4:	movw	r1, #0
  a8:	and	r1, r1, #255	; 0xff
  ac:	movw	ip, #52	; 0x34
  b0:	str	r2, [sp, #28]
  b4:	mov	r2, ip
  b8:	str	r3, [sp, #24]
  bc:	bl	0 <memset>
  c0:	movw	r0, #200	; 0xc8
  c4:	str	r0, [sp, #32]
  c8:	ldr	r0, [sp, #28]
  cc:	str	r0, [sp, #36]	; 0x24
  d0:	movw	r1, #0
  d4:	movt	r1, #0
  d8:	str	r1, [sp, #60]	; 0x3c
  dc:	movw	r1, #0
  e0:	movt	r1, #0
  e4:	str	r1, [sp, #68]	; 0x44
  e8:	movw	r1, #69	; 0x45
  ec:	strh	r1, [sp, #76]	; 0x4c
  f0:	movw	r1, #0
  f4:	movt	r1, #0
  f8:	ldr	r2, [sp, #24]
  fc:	str	r2, [r1]
 100:	ldr	r0, [fp, #-8]
 104:	ldr	r1, [fp, #-12]
 108:	movw	r2, #0
 10c:	movt	r2, #0
 110:	bl	0 <getopt>
 114:	str	r0, [fp, #-16]
 118:	cmn	r0, #1
 11c:	beq	424 <main+0x3a8>
 120:	mvn	r0, #-2147483648	; 0x80000000
 124:	str	r0, [fp, #-24]	; 0xffffffe8
 128:	ldr	r0, [fp, #-16]
 12c:	sub	r0, r0, #65	; 0x41
 130:	cmp	r0, #53	; 0x35
 134:	str	r0, [sp, #20]
 138:	bhi	404 <main+0x388>
 13c:	add	r0, pc, #8
 140:	ldr	r1, [sp, #20]
 144:	ldr	r0, [r0, r1, lsl #2]
 148:	mov	pc, r0
 14c:	.word	0x00000238
 150:	.word	0x00000404
 154:	.word	0x00000404
 158:	.word	0x00000404
 15c:	.word	0x00000404
 160:	.word	0x00000274
 164:	.word	0x00000404
 168:	.word	0x00000404
 16c:	.word	0x00000404
 170:	.word	0x00000404
 174:	.word	0x00000404
 178:	.word	0x000003dc
 17c:	.word	0x000002b0
 180:	.word	0x00000404
 184:	.word	0x00000404
 188:	.word	0x00000404
 18c:	.word	0x00000404
 190:	.word	0x000002c4
 194:	.word	0x00000404
 198:	.word	0x000002d8
 19c:	.word	0x00000404
 1a0:	.word	0x000003a0
 1a4:	.word	0x00000404
 1a8:	.word	0x00000404
 1ac:	.word	0x00000404
 1b0:	.word	0x00000404
 1b4:	.word	0x00000404
 1b8:	.word	0x00000404
 1bc:	.word	0x00000404
 1c0:	.word	0x00000404
 1c4:	.word	0x00000404
 1c8:	.word	0x00000404
 1cc:	.word	0x00000224
 1d0:	.word	0x00000404
 1d4:	.word	0x0000024c
 1d8:	.word	0x00000404
 1dc:	.word	0x00000404
 1e0:	.word	0x00000260
 1e4:	.word	0x00000404
 1e8:	.word	0x000003e8
 1ec:	.word	0x00000288
 1f0:	.word	0x00000404
 1f4:	.word	0x00000404
 1f8:	.word	0x00000404
 1fc:	.word	0x0000029c
 200:	.word	0x00000404
 204:	.word	0x00000404
 208:	.word	0x000002d8
 20c:	.word	0x00000404
 210:	.word	0x00000404
 214:	.word	0x00000404
 218:	.word	0x000002d8
 21c:	.word	0x00000404
 220:	.word	0x000003c4
 224:	movw	r0, #0
 228:	movt	r0, #0
 22c:	ldr	r0, [r0]
 230:	str	r0, [sp, #56]	; 0x38
 234:	b	420 <main+0x3a4>
 238:	movw	r0, #0
 23c:	movt	r0, #0
 240:	ldr	r0, [r0]
 244:	str	r0, [sp, #52]	; 0x34
 248:	b	420 <main+0x3a4>
 24c:	movw	r0, #0
 250:	movt	r0, #0
 254:	ldr	r0, [r0]
 258:	str	r0, [sp, #40]	; 0x28
 25c:	b	420 <main+0x3a4>
 260:	movw	r0, #0
 264:	movt	r0, #0
 268:	ldr	r0, [r0]
 26c:	str	r0, [sp, #44]	; 0x2c
 270:	b	420 <main+0x3a4>
 274:	movw	r0, #0
 278:	movt	r0, #0
 27c:	ldr	r0, [r0]
 280:	str	r0, [sp, #48]	; 0x30
 284:	b	420 <main+0x3a4>
 288:	movw	r0, #0
 28c:	movt	r0, #0
 290:	ldr	r0, [r0]
 294:	str	r0, [sp, #64]	; 0x40
 298:	b	420 <main+0x3a4>
 29c:	movw	r0, #0
 2a0:	movt	r0, #0
 2a4:	ldr	r0, [r0]
 2a8:	str	r0, [sp, #68]	; 0x44
 2ac:	b	420 <main+0x3a4>
 2b0:	movw	r0, #0
 2b4:	movt	r0, #0
 2b8:	ldr	r0, [r0]
 2bc:	str	r0, [sp, #60]	; 0x3c
 2c0:	b	420 <main+0x3a4>
 2c4:	movw	r0, #0
 2c8:	movt	r0, #0
 2cc:	ldr	r0, [r0]
 2d0:	str	r0, [sp, #80]	; 0x50
 2d4:	b	420 <main+0x3a4>
 2d8:	ldr	r0, [fp, #-16]
 2dc:	cmp	r0, #112	; 0x70
 2e0:	bne	2ec <main+0x270>
 2e4:	movw	r0, #65535	; 0xffff
 2e8:	str	r0, [fp, #-24]	; 0xffffffe8
 2ec:	movw	r0, #0
 2f0:	movt	r0, #0
 2f4:	ldr	r0, [r0]
 2f8:	bl	0 <atoi>
 2fc:	str	r0, [fp, #-20]	; 0xffffffec
 300:	ldr	r0, [fp, #-20]	; 0xffffffec
 304:	cmp	r0, #0
 308:	ble	31c <main+0x2a0>
 30c:	ldr	r0, [fp, #-20]	; 0xffffffec
 310:	ldr	r1, [fp, #-24]	; 0xffffffe8
 314:	cmp	r0, r1
 318:	ble	348 <main+0x2cc>
 31c:	movw	r0, #0
 320:	movt	r0, #0
 324:	ldr	r0, [r0]
 328:	ldr	r2, [fp, #-16]
 32c:	movw	r1, #0
 330:	movt	r1, #0
 334:	bl	0 <fprintf>
 338:	movw	r1, #1
 33c:	str	r1, [fp, #-4]
 340:	str	r0, [sp, #16]
 344:	b	508 <main+0x48c>
 348:	ldr	r0, [fp, #-16]
 34c:	cmp	r0, #112	; 0x70
 350:	bne	360 <main+0x2e4>
 354:	ldr	r0, [fp, #-20]	; 0xffffffec
 358:	strh	r0, [sp, #76]	; 0x4c
 35c:	b	39c <main+0x320>
 360:	ldr	r0, [fp, #-16]
 364:	cmp	r0, #116	; 0x74
 368:	bne	378 <main+0x2fc>
 36c:	ldr	r0, [fp, #-20]	; 0xffffffec
 370:	str	r0, [sp, #32]
 374:	b	398 <main+0x31c>
 378:	ldr	r0, [fp, #-16]
 37c:	cmp	r0, #84	; 0x54
 380:	bne	394 <main+0x318>
 384:	ldr	r0, [fp, #-20]	; 0xffffffec
 388:	movw	r1, #1000	; 0x3e8
 38c:	mul	r0, r0, r1
 390:	str	r0, [sp, #36]	; 0x24
 394:	b	398 <main+0x31c>
 398:	b	39c <main+0x320>
 39c:	b	420 <main+0x3a4>
 3a0:	movw	r0, #0
 3a4:	movt	r0, #0
 3a8:	movw	r1, #0
 3ac:	movt	r1, #0
 3b0:	bl	0 <printf>
 3b4:	movw	r1, #0
 3b8:	str	r1, [fp, #-20]	; 0xffffffec
 3bc:	str	r0, [sp, #12]
 3c0:	b	500 <main+0x484>
 3c4:	movw	r0, #0
 3c8:	movt	r0, #0
 3cc:	ldr	r1, [r0]
 3d0:	add	r1, r1, #1
 3d4:	str	r1, [r0]
 3d8:	b	420 <main+0x3a4>
 3dc:	movw	r0, #1
 3e0:	str	r0, [fp, #-28]	; 0xffffffe4
 3e4:	b	420 <main+0x3a4>
 3e8:	movw	r0, #0
 3ec:	movt	r0, #0
 3f0:	ldr	r0, [r0]
 3f4:	bl	0 <usage>
 3f8:	movw	r0, #0
 3fc:	str	r0, [fp, #-20]	; 0xffffffec
 400:	b	500 <main+0x484>
 404:	movw	r0, #0
 408:	movt	r0, #0
 40c:	ldr	r0, [r0]
 410:	bl	0 <usage>
 414:	movw	r0, #1
 418:	str	r0, [fp, #-20]	; 0xffffffec
 41c:	b	500 <main+0x484>
 420:	b	100 <main+0x84>
 424:	ldr	r0, [sp, #52]	; 0x34
 428:	movw	r1, #0
 42c:	cmp	r0, r1
 430:	beq	46c <main+0x3f0>
 434:	ldr	r0, [sp, #56]	; 0x38
 438:	movw	r1, #0
 43c:	cmp	r0, r1
 440:	bne	46c <main+0x3f0>
 444:	movw	r0, #0
 448:	movt	r0, #0
 44c:	ldr	r0, [r0]
 450:	movw	r1, #0
 454:	movt	r1, #0
 458:	bl	0 <fprintf>
 45c:	movw	r1, #1
 460:	str	r1, [fp, #-4]
 464:	str	r0, [sp, #8]
 468:	b	508 <main+0x48c>
 46c:	ldr	r0, [fp, #-28]	; 0xffffffe4
 470:	cmp	r0, #0
 474:	bne	4c4 <main+0x448>
 478:	ldr	r0, [sp, #44]	; 0x2c
 47c:	movw	r1, #0
 480:	cmp	r0, r1
 484:	bne	498 <main+0x41c>
 488:	ldr	r0, [sp, #40]	; 0x28
 48c:	movw	r1, #0
 490:	cmp	r0, r1
 494:	beq	4a8 <main+0x42c>
 498:	ldr	r0, [sp, #64]	; 0x40
 49c:	movw	r1, #0
 4a0:	cmp	r0, r1
 4a4:	bne	4c4 <main+0x448>
 4a8:	movw	r0, #0
 4ac:	movt	r0, #0
 4b0:	ldr	r0, [r0]
 4b4:	bl	0 <usage>
 4b8:	movw	r0, #1
 4bc:	str	r0, [fp, #-4]
 4c0:	b	508 <main+0x48c>
 4c4:	ldr	r0, [fp, #-28]	; 0xffffffe4
 4c8:	cmp	r0, #0
 4cc:	bne	4d4 <main+0x458>
 4d0:	bl	34 <require_admin>
 4d4:	ldr	r0, [fp, #-28]	; 0xffffffe4
 4d8:	cmp	r0, #0
 4dc:	bne	4f0 <main+0x474>
 4e0:	add	r0, sp, #32
 4e4:	bl	0 <nmrp_do>
 4e8:	str	r0, [sp, #4]
 4ec:	b	4f8 <main+0x47c>
 4f0:	bl	0 <ethsock_list_all>
 4f4:	str	r0, [sp, #4]
 4f8:	ldr	r0, [sp, #4]
 4fc:	str	r0, [fp, #-20]	; 0xffffffec
 500:	ldr	r0, [fp, #-20]	; 0xffffffec
 504:	str	r0, [fp, #-4]
 508:	ldr	r0, [fp, #-4]
 50c:	mov	sp, fp
 510:	pop	{fp, pc}
 514:	.word	0x000493e0
